(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{218:function(t,a,s){"use strict";s.r(a);var e=s(0),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"项目安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#项目安装"}},[t._v("#")]),t._v(" 项目安装")]),t._v(" "),s("h2",{attrs:{id:"环境要求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#环境要求"}},[t._v("#")]),t._v(" 环境要求")]),t._v(" "),s("p",[s("code",[t._v("CatchAdmin")]),t._v(" 要求以下环境:")]),t._v(" "),s("ul",[s("li",[t._v("PHP >= 7.1.0")]),t._v(" "),s("li",[t._v("Mysql >= 5.5.0")]),t._v(" "),s("li",[t._v("PDO Extension")]),t._v(" "),s("li",[t._v("MBstring Extension")]),t._v(" "),s("li",[t._v("CURL Extension")]),t._v(" "),s("li",[t._v("ZIP Extension")]),t._v(" "),s("li",[t._v("Composer")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("一共需要安装两个项目，一是 PHP 的项目，二是 VUE 项目，请跟着下面的步骤走。")])]),t._v(" "),s("h2",{attrs:{id:"安装-php-项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装-php-项目"}},[t._v("#")]),t._v(" 安装 PHP 项目")]),t._v(" "),s("p",[t._v("目前项目托管在"),s("code",[t._v("gitee")]),t._v("上，可以前往 "),s("a",{attrs:{href:"https://gitee.com/jaguarjack/catchAdmin",target:"_blank",rel:"noopener noreferrer"}},[t._v("CatchAdmin"),s("OutboundLink")],1),t._v(" 下载。\n或者可以使用"),s("code",[t._v("git")]),t._v("(推荐使用) clone 代码，方便及时更新代码。")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://gitee.com/jaguarjack/catchAdmin.git\n")])])]),s("p",[t._v("或者")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("composer create-project jaguarjack/catchadmin:dev-master catchAdmin\n")])])]),s("p",[t._v("进入到"),s("code",[t._v("CatchAdmin")]),t._v("目录，该项目不提供"),s("code",[t._v("Web install")]),t._v("方式，请使用命令行方式安装。使用以下几个命令即可安装成功。\n保证已经保证了"),s("code",[t._v("composer")]),t._v("包管理器。"),s("code",[t._v("MAC")]),t._v("以及"),s("code",[t._v("LINUX")]),t._v("可使用下面的命令, "),s("code",[t._v("windows")]),t._v("直接下载"),s("code",[t._v("exe")]),t._v("安装")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -sS http://install.phpcomposer.com/installer "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" php\n\n// 由于某种原因，下载包会非常慢，所以需要修改镜像来加速，推荐阿里镜像。\ncomposer config -g repo.packagist composer https://mirrors.aliyun.com/composer/\n\n// 安装 composer 扩展\ncomposer "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" --ignore-platform-reqs\n\n// 安装后台, 按照提示输入对应信息即可\nphp think catch:install\n\n// 启动后台\nphp think run\n")])])]),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("注意不能直接访问 PHP 项目，导致 Exception，前后端分离，需要通过 API 接口形式访问，所以你需要安装 VUE 项目后台，看到数据的展示")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("如果你是第一次使用 VUE，建议先去看看 VUE 文档，了解一下。")])]),t._v(" "),s("h2",{attrs:{id:"下载-vue-项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载-vue-项目"}},[t._v("#")]),t._v(" 下载 vue 项目")]),t._v(" "),s("p",[t._v("在使用前端项目之前，你需要安装前端管理器，这个不多做解释了。推荐使用"),s("code",[t._v("yarn")]),t._v(" 安装，首先你需要安装 "),s("code",[t._v("yarn")]),t._v(" 管理器。使用淘宝镜像。")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" config "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" registry https://registry.npm.taobao.org/\n")])])]),s("h4",{attrs:{id:"下载项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载项目"}},[t._v("#")]),t._v(" 下载项目")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/yanwenwu/catch-admin-vue.git\n")])])]),s("h4",{attrs:{id:"进入目录-使用-yarn-安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#进入目录-使用-yarn-安装"}},[t._v("#")]),t._v(" 进入目录,使用 yarn 安装")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n")])])]),s("h4",{attrs:{id:"配置接口地址，找到-vue-项目下的"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置接口地址，找到-vue-项目下的"}},[t._v("#")]),t._v(" 配置接口地址，找到 vue 项目下的")]),t._v(" "),s("ul",[s("li",[s("code",[t._v(".env.development")]),t._v(" 文件是配置开发环境的 API 接口地址 (实际上就是 PHP 项目的地址)")])]),t._v(" "),s("h4",{attrs:{id:"启动开发模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动开发模式"}},[t._v("#")]),t._v(" 启动开发模式")]),t._v(" "),s("p",[t._v("请先在前端项目根目录下的"),s("code",[t._v(".env.development")]),t._v(" 文件设置 "),s("code",[t._v("VUE_APP_BASE_API")]),t._v("开发环境的 API 请求地址")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# just a flag")]),t._v("\nENV "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'development'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# base api")]),t._v("\nVUE_APP_BASE_API "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://127.0.0.1:9090'")]),t._v("\n")])])]),s("p",[t._v("然后启动项目")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run dev\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("vue 后台使用了是 "),s("code",[t._v("element admin")]),t._v(" "),s("a",{attrs:{href:"https://panjiachen.gitee.io/vue-element-admin-site/zh/",target:"_blank",rel:"noopener noreferrer"}},[t._v("文档地址"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"重新初始化项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#重新初始化项目"}},[t._v("#")]),t._v(" 重新初始化项目")]),t._v(" "),s("p",[t._v("有时候因为更新而导致数据不一致，最近改动的比较频繁，你需要重新安装项目的话，可以使用下面的命令")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("php think catch:install -r\n")])])]),s("h2",{attrs:{id:"打包前端项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#打包前端项目"}},[t._v("#")]),t._v(" 打包前端项目")]),t._v(" "),s("p",[t._v("打包前请先配置正是环境 API 地址。在项目的根目录下的"),s("code",[t._v(".env.production")]),t._v("文件配置")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("# just a flag\nENV = 'production'\n\n# base api\nVUE_APP_BASE_API = '正式环境的 API 地址'\n")])])]),s("p",[t._v("然后进行打包")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("npm run build:prod\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("前端项目配置最好开启 "),s("code",[t._v("Gzip")]),t._v(",可以加速前端项目访问速度。")])]),t._v(" "),s("h4",{attrs:{id:"推荐配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#推荐配置"}},[t._v("#")]),t._v(" 推荐配置")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("http "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    include       /etc/nginx/mime.types"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    default_type  application/octet-stream"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    log_format  main  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$remote_addr")]),t._v(" - "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$remote_user")]),t._v(" ["),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$time_local")]),t._v('] "'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$request")]),t._v("\" '")]),t._v("\n                      "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$status")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$body_bytes_sent")]),t._v(' "'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$http_referer")]),t._v("\" '")]),t._v("\n                      "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\""),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$http_user_agent")]),t._v('" "'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$http_x_forwarded_for")]),t._v("\"'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    access_log  /var/log/nginx/access.log  main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    sendfile        on"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#tcp_nopush     on;")]),t._v("\n\n    keepalive_timeout  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("65")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#gzip 配置")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gzip")]),t._v("  on"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    gzip_min_length 1k"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    gzip_comp_level "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    gzip_types text/plain application/javascript application/x-javascript text/css application/xml text/javascript "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    gzip_static on"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    gzip_vary on"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    gzip_buffers "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v(" 16k"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n    include /etc/nginx/conf.d/*.conf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);