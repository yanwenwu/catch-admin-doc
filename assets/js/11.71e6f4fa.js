(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{211:function(s,t,a){"use strict";a.r(t);var e=a(0),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"二次开发"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二次开发"}},[s._v("#")]),s._v(" 二次开发")]),s._v(" "),a("p",[s._v("如果你已经看完上面的其他篇章节的介绍，可能还没法继续进行自己的项目开发。因为群里很多伙伴反应了这个问题，所以这里就专门做一篇文档。\n看完你会觉得 So Easy。")]),s._v(" "),a("p",[s._v("首先当然需要下载安装文档，请先保证你能正常运行 "),a("code",[s._v("CatchAdmin")]),s._v("。后台正常进入且能访问。而且你也了解了前后端分离的开发模式。那么现在就开始吧。")]),s._v(" "),a("h2",{attrs:{id:"步骤如下"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤如下"}},[s._v("#")]),s._v(" 步骤如下")]),s._v(" "),a("ul",[a("li",[s._v("创建模块")]),s._v(" "),a("li",[s._v("生成代码")]),s._v(" "),a("li",[s._v("创建 View")]),s._v(" "),a("li",[s._v("配置动态菜单")])]),s._v(" "),a("p",[s._v("以创建 CMS 模块为例子。")]),s._v(" "),a("h2",{attrs:{id:"创建模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建模块"}},[s._v("#")]),s._v(" 创建模块")]),s._v(" "),a("p",[s._v("CatchAdmin 提供了很简洁的命令来操作")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("php think create:module cms\n")])])]),a("h2",{attrs:{id:"创建你的第一个接口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建你的第一个接口"}},[s._v("#")]),s._v(" 创建你的第一个接口")]),s._v(" "),a("p",[s._v("进入"),a("code",[s._v("后台系统管理")]),s._v("模块，找到"),a("code",[s._v("代码生成")]),s._v(", 按照流程创建。当然你看提示 "),a("code",[s._v("success")]),s._v(" 的时候，你一个"),a("code",[s._v("restful")]),s._v("接口就已经创建成功了。很简单方便。")]),s._v(" "),a("p",[s._v("如果你不嫌弃麻烦的话，可以按照下面的步骤走😄")]),s._v(" "),a("p",[s._v("下一步进入 "),a("code",[s._v("cms")]),s._v(", 创建 "),a("code",[s._v("controller")]),s._v(" 文件夹。命令如下")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" cms "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" controller\n")])])]),a("h4",{attrs:{id:"创建控制器。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建控制器。"}},[s._v("#")]),s._v(" 创建控制器。")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" controller "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" Test.php\n")])])]),a("p",[s._v("编写 "),a("code",[s._v("Controller")]),s._v(" 代码, 如下")]),s._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("namespace")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[s._v("catchAdmin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("cms"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("controller")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("use")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[s._v("catcher"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("base"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("CatchController")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("use")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[s._v("catcher"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("CatchResponse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Test")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CatchController")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" CatchResponse"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[s._v("'Hello CatchAdmin'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("h4",{attrs:{id:"创建路由"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建路由"}},[s._v("#")]),s._v(" 创建路由")]),s._v(" "),a("p",[s._v("在 "),a("code",[s._v("cms")]),s._v(" 目录下, 创建 "),a("code",[s._v("route.php")]),s._v(" 文件，命令如下:")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" route.php\n")])])]),a("p",[s._v("加入路由")]),s._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$router")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[s._v("'test'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[s._v("'\\catchAdmin\\cms\\controller\\Test@index'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("到这里 "),a("code",[s._v("PHP")]),s._v(" 的接口就已经创建好了。使用 "),a("code",[s._v("Postman")]),s._v(" 访问下能正确返回数据。")]),s._v(" "),a("h2",{attrs:{id:"前端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前端"}},[s._v("#")]),s._v(" 前端")]),s._v(" "),a("p",[s._v("下面就是重头戏了，目前从反映来看，最让摸不着头脑的就是前端的菜单配置以及如何访问页面。")]),s._v(" "),a("p",[s._v("在前端项目进入到根目录，进入到 "),a("code",[s._v("src/views")]),s._v(" 目录，为了和后端项目保持统一，所以你需要同样创建 "),a("code",[s._v("cms")]),s._v(" 目录。"),a("code",[s._v("cms")]),s._v(" 目录\n创建后，在创建 "),a("code",[s._v("test")]),s._v(" 目录。命令如下:")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" src/views "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" cms "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" cms "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n")])])]),a("p",[s._v("创建 "),a("code",[s._v("Vue")]),s._v(" 文件。")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" index.vue\n")])])]),a("p",[s._v("代码如下:")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("template"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Hello World"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("template"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'index'")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("style scoped"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("style"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),a("p",[s._v("到这里还是无法正常访问的，所以你需要先创建一个 Map 映射。找到 "),a("code",[s._v("src/config/componentMap.js")]),s._v(" 文件，这里就是需要添夹映射的地方。\n添加如下代码")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("test")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@/views/cms/test'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])])]),a("p",[s._v("添加完还要添加菜单才可以看到，打开后台管理，找到"),a("code",[s._v("菜单管理")]),s._v("，然后要在 "),a("code",[s._v("cms")]),s._v(" 管理模块下增加，")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("p",[s._v("cms 管理模块添加的时候组件必须需要选择 "),a("code",[s._v("layout")])])]),s._v(" "),a("p",[s._v("然后在 "),a("code",[s._v("cms")]),s._v(" 管理模块下添加"),a("code",[s._v("测试")]),s._v("子组件，"),a("strong",[s._v("关键在组件必须选择 "),a("code",[s._v("test")]),s._v(" 组件")]),s._v("，无需刷新页面，添加完之后就可以在左侧看到菜单。测试组件的")]),s._v(" "),a("ul",[a("li",[s._v("权限标识要填写 "),a("code",[s._v("test")]),s._v("，也就是控制器名称")]),s._v(" "),a("li",[s._v("模块就是填写 CMS。\n但是有一点要注意，此时你是 "),a("code",[s._v("Admin")]),s._v(" 超级管理员。如果你不是 "),a("code",[s._v("Admin")]),s._v(" 超级管理员的话，就必须让当"),a("strong",[s._v("前角色加入权限菜单")]),s._v("。")])]),s._v(" "),a("p",[s._v("这样整个流程就结束了。")])])}),[],!1,null,null,null);t.default=n.exports}}]);