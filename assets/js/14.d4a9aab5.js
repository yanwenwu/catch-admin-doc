(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{220:function(t,a,s){"use strict";s.r(a);var e=s(0),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"前端开发"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前端开发"}},[t._v("#")]),t._v(" 前端开发")]),t._v(" "),s("h3",{attrs:{id:"非常重要的更新"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#非常重要的更新"}},[t._v("#")]),t._v(" 非常重要的更新")]),t._v(" "),s("p",[t._v("前端模块也需要单独安装自己的组件\n例如 "),s("code",[t._v("permissions")]),t._v(" 模块下面就有 "),s("code",[t._v("router.js")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("export default {\n  users: () => import('@/views/permission/users'),\n  roles: () => import('@/views/permission/roles'),\n  rules: () => import('@/views/permission/rules'),\n  departments: () => import('@/views/permission/departments'),\n  jobs: () => import('@/views/permission/jobs')\n}\n")])])]),s("p",[t._v("如果是老项目，那么就需要你切割 config/componentsMap.js 到每个模块下的 router.js。\n新项目就按照当前模式开发就可以了")]),t._v(" "),s("h2",{attrs:{id:"表格操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#表格操作"}},[t._v("#")]),t._v(" 表格操作")]),t._v(" "),s("p",[t._v("下面的操作基于 引入 mixins，")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" formOperate "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/layout/mixin/formOperate'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  mixins"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("formOperate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("h3",{attrs:{id:"参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参数"}},[t._v("#")]),t._v(" 参数")]),t._v(" "),s("ul",[s("li",[t._v("formName: string ｜ 表名")]),t._v(" "),s("li",[t._v("formFieldsData: object ｜ 表单对象")]),t._v(" "),s("li",[t._v("queryParam: object ｜ 搜索参数\n"),s("ul",[s("li",[t._v("defaultQueryParam: array | 默认搜索参数")])])]),t._v(" "),s("li",[t._v("refreshRoute: bool | 刷新路由（一般用不到）")]),t._v(" "),s("li",[t._v("url: string | 请求的操作的 URL")])]),t._v(" "),s("h3",{attrs:{id:"新增"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#新增"}},[t._v("#")]),t._v(" 新增")]),t._v(" "),s("ul",[s("li",[t._v("beforeCreate: function | 新增前")]),t._v(" "),s("li",[t._v("handleCreate: function")])]),t._v(" "),s("h3",{attrs:{id:"更新"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更新"}},[t._v("#")]),t._v(" 更新")]),t._v(" "),s("ul",[s("li",[t._v("beforeUpdate: function | 更新前")]),t._v(" "),s("li",[t._v("handleUpdate: function")])]),t._v(" "),s("h3",{attrs:{id:"删除"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除"}},[t._v("#")]),t._v(" 删除")]),t._v(" "),s("ul",[s("li",[t._v("beforeDelete: function | 删除前")]),t._v(" "),s("li",[t._v("handleDelete: functio")])]),t._v(" "),s("h3",{attrs:{id:"批量删除"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#批量删除"}},[t._v("#")]),t._v(" 批量删除")]),t._v(" "),s("ul",[s("li",[t._v("handleSelectMulti: function | 批量选择")]),t._v(" "),s("li",[t._v("beforeMultiDelete: function | 批量删除前")]),t._v(" "),s("li",[t._v("handleMultiDelete: function")])]),t._v(" "),s("h3",{attrs:{id:"提交"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#提交"}},[t._v("#")]),t._v(" 提交")]),t._v(" "),s("ul",[s("li",[t._v("beforeSubmit: function | 提交前")]),t._v(" "),s("li",[t._v("handleSubmit: function")])]),t._v(" "),s("h3",{attrs:{id:"取消"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#取消"}},[t._v("#")]),t._v(" 取消")]),t._v(" "),s("ul",[s("li",[t._v("handleCancel: function")]),t._v(" "),s("li",[t._v("afterCancel: function | 取消后")])]),t._v(" "),s("h3",{attrs:{id:"搜索"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#搜索"}},[t._v("#")]),t._v(" 搜索")]),t._v(" "),s("ul",[s("li",[t._v("handleSearch")])]),t._v(" "),s("h3",{attrs:{id:"刷新"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#刷新"}},[t._v("#")]),t._v(" 刷新")]),t._v(" "),s("ul",[s("li",[t._v("handleRefresh")])]),t._v(" "),s("h3",{attrs:{id:"分页"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分页"}},[t._v("#")]),t._v(" 分页")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('<el-pagination\n  background\n  @size-change="handleSizeChange"\n  @current-change="handleCurrentChange"\n  :current-page="paginate.current"\n  hide-on-single-page\n  :page-sizes="paginate.sizes"\n  :page-size="paginate.limit"\n  :layout="paginate.layout"\n  :total="paginate.total"/>\n')])])]),s("h2",{attrs:{id:"前端权限"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前端权限"}},[t._v("#")]),t._v(" 前端权限")]),t._v(" "),s("h3",{attrs:{id:"按钮权限"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#按钮权限"}},[t._v("#")]),t._v(" 按钮权限")]),t._v(" "),s("h4",{attrs:{id:"基于角色"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基于角色"}},[t._v("#")]),t._v(" 基于角色")]),t._v(" "),s("p",[t._v("每次新增角色需要有一个唯一标识，角色的按钮权限就是基于这个唯一标识。\n在需要使用的页面引入")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" permission "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/directive/permission/index.js'")]),t._v(" // 权限判断指令\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" default"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  directives: "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" permission "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("在需要判断的按钮上加上")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("el-tag v-permission"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"['editor']\"")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("editor"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/el-tag"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("h4",{attrs:{id:"基于action"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基于action"}},[t._v("#")]),t._v(" 基于Action")]),t._v(" "),s("p",[t._v("每个菜单的 Action，也就是按钮都有一个权限标识，以@分割的。Action 的判断就是基于这个。\n在需要使用的页面引入")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" action "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/directive/permission/index.js'")]),t._v(" // 权限判断指令\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" default"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  directives: "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" permission "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("在需要判断的按钮上加上")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("el-tag v-action"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"'job@delete'\"")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("删除"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/el-tag"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("p",[t._v("或者")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("<el-tag v-action=\"'job.delete'\">删除</el-tag>\n")])])]),s("p",[t._v("如果模块之间有重复的 Action，那么就需要添加 module 名称来识别了。")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("el-tag v-action"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"'permissions@job@delete'\"")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("删除"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/el-tag"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("p",[t._v("或者")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("<el-tag v-action=\"'permissions.job.delete'\">删除</el-tag>\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);